"use strict";function previewMarkdown(e){Front.source=e,runtime.conf.useLocalMarkdownAPI?setSanitizedContent(markdownBody,marked(e)):(setSanitizedContent(markdownBody,"Loading previewâ€¦"),httpRequest({url:"https://api.github.com/markdown/raw",data:e},function(e){setSanitizedContent(markdownBody,e.text)}))}function previewMarkdownFile(){reader.readAsText(inputFile)}var markdownBody=document.querySelector(".markdown-body");mapkey("sm","#99Edit markdown source",function(){Front.showEditor(Front.source,previewMarkdown,"markdown")}),mapkey(";s","#99Switch markdown parser",function(){runtime.conf.useLocalMarkdownAPI=!runtime.conf.useLocalMarkdownAPI,previewMarkdown(Front.source)}),mapkey("cc","#99Copy generated html code",function(){Clipboard.write(markdownBody.innerHTML)});var mdUrl=window.location.search.substr(3);""!==mdUrl?httpRequest({url:mdUrl},function(e){previewMarkdown(e.text)}):Front.renderDataFromClipboard=previewMarkdown;var reader=new FileReader,inputFile;reader.onload=function(){previewMarkdown(reader.result)};var inputFileDiv=document.querySelector("input[type=file]");inputFileDiv.onchange=function(e){inputFile||(mapkey("or","#99Reload from selected local file.",function(){previewMarkdownFile(),Front.showBanner("Reloaded!",100)}),Front.renderHeaderDescription()),inputFile=e.target.files[0],previewMarkdownFile()},mapkey("of","#99Open local file.",function(){inputFileDiv.click()});